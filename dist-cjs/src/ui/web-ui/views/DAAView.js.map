{"version":3,"sources":["../../../../../src/ui/web-ui/views/DAAView.js"],"sourcesContent":["/**\n * Dynamic Agent Architecture (DAA) View\n * Interface for managing dynamic agents, resources, lifecycle, and communication\n * Implements all 8 DAA management tools\n */\n\nexport default class DAAView {\n  constructor(container, eventBus, viewConfig) {\n    this.container = container;\n    this.eventBus = eventBus;\n    this.viewConfig = viewConfig;\n    this.componentLibrary = null;\n\n    // DAA State Management\n    this.agents = new Map();\n    this.resources = new Map();\n    this.communications = [];\n    this.consensusHistory = [];\n    this.faultEvents = [];\n    this.optimizations = [];\n\n    this.currentTab = 'overview';\n    this.isInitialized = false;\n  }\n\n  /**\n   * Initialize the DAA view\n   */\n  async initialize() {\n    if (this.isInitialized) return;\n\n    // Get component library from event bus\n    this.eventBus.emit('component-library:get', (library) => {\n      this.componentLibrary = library;\n    });\n\n    // Setup event handlers\n    this.setupEventHandlers();\n\n    this.isInitialized = true;\n  }\n\n  /**\n   * Render the view with given parameters\n   */\n  async render(params = {}) {\n    if (!this.isInitialized) {\n      await this.initialize();\n    }\n\n    // Clear container\n    if (this.container) {\n      this.container.innerHTML = '';\n      this.createDAAInterface();\n    } else {\n      // Terminal mode\n      this.renderTerminalMode(params);\n    }\n  }\n\n  /**\n   * Create DAA interface for browser\n   */\n  createDAAInterface() {\n    // Create tab container with all DAA sections\n    const tabs = [\n      { label: '📊 Overview', content: this.createOverviewTab() },\n      { label: '🤖 Agent Management', content: this.createAgentManagementTab() },\n      { label: '🔀 Capability Matching', content: this.createCapabilityMatchingTab() },\n      { label: '📦 Resource Allocation', content: this.createResourceAllocationTab() },\n      { label: '🔄 Lifecycle Management', content: this.createLifecycleTab() },\n      { label: '📡 Communication', content: this.createCommunicationTab() },\n      { label: '🤝 Consensus', content: this.createConsensusTab() },\n      { label: '🛡️ Fault Tolerance', content: this.createFaultToleranceTab() },\n      { label: '⚡ Optimization', content: this.createOptimizationTab() },\n    ];\n\n    if (this.componentLibrary) {\n      const tabContainer = this.componentLibrary.getComponent('TabContainer')(tabs);\n      this.container.appendChild(tabContainer.element);\n    } else {\n      // Fallback without component library\n      this.createFallbackInterface();\n    }\n  }\n\n  /**\n   * Create overview tab content\n   */\n  createOverviewTab() {\n    return `\n      <div class=\"daa-overview\">\n        <div class=\"stats-grid\">\n          <div id=\"agents-stat\" class=\"stat-card\">\n            <div class=\"stat-icon\">🤖</div>\n            <div class=\"stat-content\">\n              <div class=\"stat-value\">0</div>\n              <div class=\"stat-label\">Active Agents</div>\n            </div>\n          </div>\n          <div id=\"resources-stat\" class=\"stat-card\">\n            <div class=\"stat-icon\">📦</div>\n            <div class=\"stat-content\">\n              <div class=\"stat-value\">0%</div>\n              <div class=\"stat-label\">Resource Usage</div>\n            </div>\n          </div>\n          <div id=\"communications-stat\" class=\"stat-card\">\n            <div class=\"stat-icon\">📡</div>\n            <div class=\"stat-content\">\n              <div class=\"stat-value\">0</div>\n              <div class=\"stat-label\">Messages/min</div>\n            </div>\n          </div>\n          <div id=\"health-stat\" class=\"stat-card\">\n            <div class=\"stat-icon\">💚</div>\n            <div class=\"stat-content\">\n              <div class=\"stat-value\">100%</div>\n              <div class=\"stat-label\">System Health</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"daa-tools\">\n          <h3>🔧 Quick Actions</h3>\n          <div class=\"tool-buttons\">\n            <button onclick=\"this.quickCreateAgent()\" class=\"daa-btn primary\">\n              🤖 Create Agent\n            </button>\n            <button onclick=\"this.quickMatchCapabilities()\" class=\"daa-btn secondary\">\n              🔀 Match Capabilities\n            </button>\n            <button onclick=\"this.quickAllocateResources()\" class=\"daa-btn secondary\">\n              📦 Allocate Resources\n            </button>\n            <button onclick=\"this.quickHealthCheck()\" class=\"daa-btn secondary\">\n              🏥 Health Check\n            </button>\n          </div>\n        </div>\n\n        <div class=\"agent-visualization\">\n          <h3>🌐 Agent Network Visualization</h3>\n          <div id=\"agent-network-viz\" class=\"network-container\">\n            <canvas id=\"agent-canvas\" width=\"800\" height=\"400\"></canvas>\n          </div>\n        </div>\n\n        <div class=\"recent-activity\">\n          <h3>📈 Recent DAA Activity</h3>\n          <div id=\"daa-activity-log\" class=\"activity-list\">\n            <div class=\"activity-item\">\n              <span class=\"activity-time\">--:--</span>\n              <span class=\"activity-desc\">No recent DAA activity</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create agent management tab (daa_agent_create)\n   */\n  createAgentManagementTab() {\n    return `\n      <div class=\"daa-agent-management\">\n        <div class=\"agent-creation-form\">\n          <h3>🤖 Create Dynamic Agent</h3>\n          \n          <div class=\"form-group\">\n            <label>Agent Type:</label>\n            <select id=\"agent-type\">\n              <option value=\"coordinator\">Coordinator</option>\n              <option value=\"worker\">Worker</option>\n              <option value=\"analyzer\">Analyzer</option>\n              <option value=\"optimizer\">Optimizer</option>\n              <option value=\"monitor\">Monitor</option>\n              <option value=\"custom\">Custom</option>\n            </select>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Agent Name:</label>\n            <input type=\"text\" id=\"agent-name\" placeholder=\"Enter agent name...\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Capabilities (comma-separated):</label>\n            <input type=\"text\" id=\"agent-capabilities\" placeholder=\"e.g., compute, analyze, coordinate\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Initial Resources:</label>\n            <div class=\"resource-inputs\">\n              <input type=\"number\" id=\"cpu-allocation\" placeholder=\"CPU %\" min=\"0\" max=\"100\">\n              <input type=\"number\" id=\"memory-allocation\" placeholder=\"Memory MB\" min=\"0\">\n              <input type=\"number\" id=\"priority-level\" placeholder=\"Priority (1-10)\" min=\"1\" max=\"10\">\n            </div>\n          </div>\n          \n          <button onclick=\"this.createAgent()\" class=\"daa-btn primary\">\n            🚀 Create Agent\n          </button>\n        </div>\n        \n        <div class=\"active-agents\">\n          <h3>📋 Active Agents</h3>\n          <div id=\"agents-list\" class=\"agents-grid\">\n            <!-- Agent cards will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create capability matching tab (daa_capability_match)\n   */\n  createCapabilityMatchingTab() {\n    return `\n      <div class=\"daa-capability-matching\">\n        <div class=\"capability-matcher\">\n          <h3>🔀 Capability Matching</h3>\n          \n          <div class=\"form-group\">\n            <label>Task Requirements:</label>\n            <textarea id=\"task-requirements\" placeholder=\"Enter required capabilities...\nExample:\n- compute: high\n- memory: 2GB\n- skills: data_analysis, optimization\n- availability: immediate\"></textarea>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Matching Strategy:</label>\n            <select id=\"matching-strategy\">\n              <option value=\"best-fit\">Best Fit</option>\n              <option value=\"first-fit\">First Available</option>\n              <option value=\"load-balanced\">Load Balanced</option>\n              <option value=\"priority-based\">Priority Based</option>\n            </select>\n          </div>\n          \n          <button onclick=\"this.matchCapabilities()\" class=\"daa-btn primary\">\n            🔍 Find Matching Agents\n          </button>\n        </div>\n        \n        <div class=\"matching-results\">\n          <h3>📊 Matching Results</h3>\n          <div id=\"capability-matches\" class=\"matches-display\">\n            <div class=\"no-matches\">No matches found yet</div>\n          </div>\n        </div>\n        \n        <div class=\"capability-matrix\">\n          <h3>🗂️ Capability Matrix</h3>\n          <div id=\"capability-matrix-view\" class=\"matrix-container\">\n            <!-- Capability matrix will be rendered here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create resource allocation tab (daa_resource_alloc)\n   */\n  createResourceAllocationTab() {\n    return `\n      <div class=\"daa-resource-allocation\">\n        <div class=\"resource-allocator\">\n          <h3>📦 Resource Allocation</h3>\n          \n          <div class=\"resource-overview\">\n            <h4>System Resources</h4>\n            <div class=\"resource-meters\">\n              <div class=\"resource-meter\">\n                <label>CPU Usage</label>\n                <div class=\"meter-bar\">\n                  <div id=\"cpu-usage-bar\" class=\"meter-fill\" style=\"width: 45%\"></div>\n                  <span class=\"meter-text\">45%</span>\n                </div>\n              </div>\n              <div class=\"resource-meter\">\n                <label>Memory Usage</label>\n                <div class=\"meter-bar\">\n                  <div id=\"memory-usage-bar\" class=\"meter-fill\" style=\"width: 60%\"></div>\n                  <span class=\"meter-text\">60%</span>\n                </div>\n              </div>\n              <div class=\"resource-meter\">\n                <label>Network Bandwidth</label>\n                <div class=\"meter-bar\">\n                  <div id=\"network-usage-bar\" class=\"meter-fill\" style=\"width: 30%\"></div>\n                  <span class=\"meter-text\">30%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"allocation-form\">\n            <h4>Allocate Resources</h4>\n            \n            <div class=\"form-group\">\n              <label>Target Agent:</label>\n              <select id=\"allocation-target\">\n                <option value=\"\">Select agent...</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Resource Type:</label>\n              <select id=\"resource-type\">\n                <option value=\"cpu\">CPU</option>\n                <option value=\"memory\">Memory</option>\n                <option value=\"storage\">Storage</option>\n                <option value=\"network\">Network</option>\n                <option value=\"custom\">Custom Resource</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Allocation Amount:</label>\n              <input type=\"number\" id=\"allocation-amount\" placeholder=\"Amount to allocate\">\n            </div>\n            \n            <button onclick=\"this.allocateResources()\" class=\"daa-btn primary\">\n              📤 Allocate Resources\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"allocation-history\">\n          <h3>📋 Allocation History</h3>\n          <div id=\"allocation-history-list\" class=\"history-list\">\n            <!-- Allocation history will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create lifecycle management tab (daa_lifecycle_manage)\n   */\n  createLifecycleTab() {\n    return `\n      <div class=\"daa-lifecycle-management\">\n        <div class=\"lifecycle-controls\">\n          <h3>🔄 Agent Lifecycle Management</h3>\n          \n          <div class=\"lifecycle-actions\">\n            <div class=\"form-group\">\n              <label>Select Agent:</label>\n              <select id=\"lifecycle-agent\">\n                <option value=\"\">Choose agent...</option>\n              </select>\n            </div>\n            \n            <div class=\"lifecycle-buttons\">\n              <button onclick=\"this.startAgent()\" class=\"daa-btn success\">\n                ▶️ Start\n              </button>\n              <button onclick=\"this.pauseAgent()\" class=\"daa-btn warning\">\n                ⏸️ Pause\n              </button>\n              <button onclick=\"this.stopAgent()\" class=\"daa-btn danger\">\n                ⏹️ Stop\n              </button>\n              <button onclick=\"this.restartAgent()\" class=\"daa-btn info\">\n                🔄 Restart\n              </button>\n              <button onclick=\"this.upgradeAgent()\" class=\"daa-btn primary\">\n                ⬆️ Upgrade\n              </button>\n              <button onclick=\"this.hibernateAgent()\" class=\"daa-btn secondary\">\n                💤 Hibernate\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"lifecycle-visualization\">\n          <h3>📊 Lifecycle States</h3>\n          <div id=\"lifecycle-diagram\" class=\"lifecycle-viz\">\n            <!-- State diagram will be rendered here -->\n            <svg width=\"600\" height=\"400\" id=\"lifecycle-svg\">\n              <!-- SVG lifecycle diagram -->\n            </svg>\n          </div>\n        </div>\n        \n        <div class=\"lifecycle-events\">\n          <h3>📋 Lifecycle Events</h3>\n          <div id=\"lifecycle-events-list\" class=\"events-list\">\n            <!-- Lifecycle events will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create communication tab (daa_communication)\n   */\n  createCommunicationTab() {\n    return `\n      <div class=\"daa-communication\">\n        <div class=\"communication-panel\">\n          <h3>📡 Inter-Agent Communication</h3>\n          \n          <div class=\"message-composer\">\n            <h4>Compose Message</h4>\n            \n            <div class=\"form-group\">\n              <label>From Agent:</label>\n              <select id=\"comm-from-agent\">\n                <option value=\"\">Select sender...</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>To Agent(s):</label>\n              <select id=\"comm-to-agents\" multiple>\n                <option value=\"broadcast\">📢 Broadcast to All</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Message Type:</label>\n              <select id=\"comm-message-type\">\n                <option value=\"command\">Command</option>\n                <option value=\"query\">Query</option>\n                <option value=\"response\">Response</option>\n                <option value=\"notification\">Notification</option>\n                <option value=\"sync\">Synchronization</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Message Content:</label>\n              <textarea id=\"comm-message-content\" placeholder=\"Enter message content...\"></textarea>\n            </div>\n            \n            <button onclick=\"this.sendMessage()\" class=\"daa-btn primary\">\n              📤 Send Message\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"communication-log\">\n          <h3>📜 Communication Log</h3>\n          <div class=\"log-controls\">\n            <button onclick=\"this.filterMessages('all')\" class=\"filter-btn active\">All</button>\n            <button onclick=\"this.filterMessages('commands')\" class=\"filter-btn\">Commands</button>\n            <button onclick=\"this.filterMessages('queries')\" class=\"filter-btn\">Queries</button>\n            <button onclick=\"this.filterMessages('notifications')\" class=\"filter-btn\">Notifications</button>\n          </div>\n          <div id=\"communication-log-list\" class=\"comm-log\">\n            <!-- Communication messages will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create consensus tab (daa_consensus)\n   */\n  createConsensusTab() {\n    return `\n      <div class=\"daa-consensus\">\n        <div class=\"consensus-panel\">\n          <h3>🤝 Consensus Mechanisms</h3>\n          \n          <div class=\"consensus-proposal\">\n            <h4>Create Proposal</h4>\n            \n            <div class=\"form-group\">\n              <label>Proposal Type:</label>\n              <select id=\"consensus-type\">\n                <option value=\"resource-allocation\">Resource Allocation Change</option>\n                <option value=\"task-assignment\">Task Assignment</option>\n                <option value=\"policy-update\">Policy Update</option>\n                <option value=\"agent-addition\">Add New Agent</option>\n                <option value=\"agent-removal\">Remove Agent</option>\n                <option value=\"custom\">Custom Proposal</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Proposal Description:</label>\n              <textarea id=\"proposal-description\" placeholder=\"Describe the proposal...\"></textarea>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Consensus Algorithm:</label>\n              <select id=\"consensus-algorithm\">\n                <option value=\"majority\">Simple Majority</option>\n                <option value=\"supermajority\">Super Majority (2/3)</option>\n                <option value=\"unanimous\">Unanimous</option>\n                <option value=\"weighted\">Weighted Voting</option>\n                <option value=\"raft\">Raft Consensus</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Voting Timeout (seconds):</label>\n              <input type=\"number\" id=\"voting-timeout\" value=\"60\" min=\"10\">\n            </div>\n            \n            <button onclick=\"this.createProposal()\" class=\"daa-btn primary\">\n              📋 Create Proposal\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"active-proposals\">\n          <h3>🗳️ Active Proposals</h3>\n          <div id=\"proposals-list\" class=\"proposals-container\">\n            <!-- Active proposals will be populated here -->\n          </div>\n        </div>\n        \n        <div class=\"consensus-history\">\n          <h3>📊 Consensus History</h3>\n          <div id=\"consensus-history-list\" class=\"consensus-log\">\n            <!-- Consensus history will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create fault tolerance tab (daa_fault_tolerance)\n   */\n  createFaultToleranceTab() {\n    return `\n      <div class=\"daa-fault-tolerance\">\n        <div class=\"fault-monitoring\">\n          <h3>🛡️ Fault Tolerance & Recovery</h3>\n          \n          <div class=\"health-overview\">\n            <h4>System Health Status</h4>\n            <div class=\"health-indicators\">\n              <div class=\"health-indicator healthy\">\n                <span class=\"indicator-icon\">✅</span>\n                <span class=\"indicator-label\">Healthy Agents</span>\n                <span id=\"healthy-count\" class=\"indicator-value\">0</span>\n              </div>\n              <div class=\"health-indicator warning\">\n                <span class=\"indicator-icon\">⚠️</span>\n                <span class=\"indicator-label\">Warning State</span>\n                <span id=\"warning-count\" class=\"indicator-value\">0</span>\n              </div>\n              <div class=\"health-indicator critical\">\n                <span class=\"indicator-icon\">🚨</span>\n                <span class=\"indicator-label\">Critical Issues</span>\n                <span id=\"critical-count\" class=\"indicator-value\">0</span>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"recovery-strategies\">\n            <h4>Recovery Strategies</h4>\n            \n            <div class=\"form-group\">\n              <label>Fault Detection Method:</label>\n              <select id=\"fault-detection\">\n                <option value=\"heartbeat\">Heartbeat Monitoring</option>\n                <option value=\"performance\">Performance Metrics</option>\n                <option value=\"consensus\">Consensus Validation</option>\n                <option value=\"combined\">Combined Detection</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Recovery Strategy:</label>\n              <select id=\"recovery-strategy\">\n                <option value=\"restart\">Automatic Restart</option>\n                <option value=\"failover\">Failover to Backup</option>\n                <option value=\"redistribute\">Redistribute Load</option>\n                <option value=\"isolate\">Isolate and Diagnose</option>\n                <option value=\"manual\">Manual Intervention</option>\n              </select>\n            </div>\n            \n            <button onclick=\"this.configureRecovery()\" class=\"daa-btn primary\">\n              🔧 Configure Recovery\n            </button>\n            <button onclick=\"this.runHealthCheck()\" class=\"daa-btn secondary\">\n              🏥 Run Health Check\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"fault-events\">\n          <h3>🚨 Fault Events</h3>\n          <div id=\"fault-events-list\" class=\"fault-log\">\n            <!-- Fault events will be populated here -->\n          </div>\n        </div>\n        \n        <div class=\"recovery-actions\">\n          <h3>🔧 Recovery Actions</h3>\n          <div id=\"recovery-actions-list\" class=\"recovery-log\">\n            <!-- Recovery actions will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create optimization tab (daa_optimization)\n   */\n  createOptimizationTab() {\n    return `\n      <div class=\"daa-optimization\">\n        <div class=\"optimization-panel\">\n          <h3>⚡ Performance Optimization</h3>\n          \n          <div class=\"optimization-metrics\">\n            <h4>Current Performance Metrics</h4>\n            <div class=\"metrics-grid\">\n              <div class=\"metric-card\">\n                <div class=\"metric-label\">Response Time</div>\n                <div id=\"response-time\" class=\"metric-value\">-- ms</div>\n                <div class=\"metric-trend\">📈 +5%</div>\n              </div>\n              <div class=\"metric-card\">\n                <div class=\"metric-label\">Throughput</div>\n                <div id=\"throughput\" class=\"metric-value\">-- req/s</div>\n                <div class=\"metric-trend\">📉 -2%</div>\n              </div>\n              <div class=\"metric-card\">\n                <div class=\"metric-label\">Resource Efficiency</div>\n                <div id=\"efficiency\" class=\"metric-value\">--%</div>\n                <div class=\"metric-trend\">➡️ 0%</div>\n              </div>\n              <div class=\"metric-card\">\n                <div class=\"metric-label\">Agent Utilization</div>\n                <div id=\"utilization\" class=\"metric-value\">--%</div>\n                <div class=\"metric-trend\">📈 +8%</div>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"optimization-controls\">\n            <h4>Optimization Options</h4>\n            \n            <div class=\"form-group\">\n              <label>Optimization Target:</label>\n              <select id=\"optimization-target\">\n                <option value=\"response-time\">Minimize Response Time</option>\n                <option value=\"throughput\">Maximize Throughput</option>\n                <option value=\"resource-usage\">Minimize Resource Usage</option>\n                <option value=\"balanced\">Balanced Optimization</option>\n                <option value=\"cost\">Cost Optimization</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Optimization Algorithm:</label>\n              <select id=\"optimization-algorithm\">\n                <option value=\"genetic\">Genetic Algorithm</option>\n                <option value=\"simulated-annealing\">Simulated Annealing</option>\n                <option value=\"particle-swarm\">Particle Swarm</option>\n                <option value=\"gradient-descent\">Gradient Descent</option>\n                <option value=\"reinforcement\">Reinforcement Learning</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label>Constraints:</label>\n              <textarea id=\"optimization-constraints\" placeholder=\"Define constraints...\nExample:\n- max_cpu_usage: 80%\n- min_agents: 3\n- max_response_time: 100ms\"></textarea>\n            </div>\n            \n            <button onclick=\"this.startOptimization()\" class=\"daa-btn primary\">\n              🚀 Start Optimization\n            </button>\n            <button onclick=\"this.analyzePerformance()\" class=\"daa-btn secondary\">\n              📊 Analyze Performance\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"optimization-results\">\n          <h3>📈 Optimization Results</h3>\n          <div id=\"optimization-chart\" class=\"chart-container\">\n            <!-- Optimization results chart will be rendered here -->\n          </div>\n        </div>\n        \n        <div class=\"optimization-history\">\n          <h3>📋 Optimization History</h3>\n          <div id=\"optimization-history-list\" class=\"optimization-log\">\n            <!-- Optimization history will be populated here -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Create fallback interface without component library\n   */\n  createFallbackInterface() {\n    this.container.innerHTML = `\n      <div class=\"daa-fallback\">\n        <h2>🤖 Dynamic Agent Architecture</h2>\n        <p>Complete DAA management interface with 8 integrated tools</p>\n        \n        <div class=\"tool-sections\">\n          <div class=\"tool-section\">\n            <h3>🤖 Agent Management</h3>\n            <button onclick=\"this.quickAction('daa_agent_create')\">Create Agent</button>\n            <button onclick=\"this.quickAction('daa_lifecycle_manage')\">Lifecycle Management</button>\n          </div>\n          \n          <div class=\"tool-section\">\n            <h3>📦 Resource Management</h3>\n            <button onclick=\"this.quickAction('daa_resource_alloc')\">Allocate Resources</button>\n            <button onclick=\"this.quickAction('daa_capability_match')\">Match Capabilities</button>\n          </div>\n          \n          <div class=\"tool-section\">\n            <h3>📡 Coordination</h3>\n            <button onclick=\"this.quickAction('daa_communication')\">Agent Communication</button>\n            <button onclick=\"this.quickAction('daa_consensus')\">Consensus Mechanisms</button>\n          </div>\n          \n          <div class=\"tool-section\">\n            <h3>🛡️ Reliability</h3>\n            <button onclick=\"this.quickAction('daa_fault_tolerance')\">Fault Tolerance</button>\n            <button onclick=\"this.quickAction('daa_optimization')\">Performance Optimization</button>\n          </div>\n        </div>\n        \n        <div id=\"daa-output\" class=\"output-area\">\n          <h3>📊 Output</h3>\n          <pre id=\"output-content\">Ready for DAA operations...</pre>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * Render terminal mode\n   */\n  renderTerminalMode(params) {\n    console.log('\\n🤖 Dynamic Agent Architecture');\n    console.log('═'.repeat(50));\n    console.log('Available Tools (8):');\n    console.log('  🤖 daa_agent_create      - Create dynamic agents');\n    console.log('  🔀 daa_capability_match  - Match capabilities');\n    console.log('  📦 daa_resource_alloc    - Allocate resources');\n    console.log('  🔄 daa_lifecycle_manage  - Lifecycle management');\n    console.log('  📡 daa_communication     - Inter-agent comm');\n    console.log('  🤝 daa_consensus         - Consensus mechanisms');\n    console.log('  🛡️ daa_fault_tolerance   - Fault recovery');\n    console.log('  ⚡ daa_optimization      - Performance optimization');\n    console.log('═'.repeat(50));\n\n    if (params.tool) {\n      console.log(`\\n🔧 Executing: ${params.tool}`);\n      this.quickAction(params.tool, params);\n    }\n  }\n\n  /**\n   * Quick action handler\n   */\n  async quickAction(toolName, params = {}) {\n    try {\n      console.log(`🔧 Executing ${toolName}...`);\n\n      // Emit tool execution event\n      this.eventBus.emit('tool:execute', {\n        tool: toolName,\n        params: params,\n        source: 'daa-view',\n      });\n\n      // Handle specific tool actions\n      switch (toolName) {\n        case 'daa_agent_create':\n          await this.handleAgentCreate(params);\n          break;\n        case 'daa_capability_match':\n          await this.handleCapabilityMatch(params);\n          break;\n        case 'daa_resource_alloc':\n          await this.handleResourceAllocation(params);\n          break;\n        case 'daa_lifecycle_manage':\n          await this.handleLifecycleManagement(params);\n          break;\n        case 'daa_communication':\n          await this.handleCommunication(params);\n          break;\n        case 'daa_consensus':\n          await this.handleConsensus(params);\n          break;\n        case 'daa_fault_tolerance':\n          await this.handleFaultTolerance(params);\n          break;\n        case 'daa_optimization':\n          await this.handleOptimization(params);\n          break;\n        default:\n          console.log(`Tool ${toolName} executed`);\n      }\n    } catch (error) {\n      console.error(`❌ Error executing ${toolName}:`, error);\n    }\n  }\n\n  /**\n   * Handle agent creation\n   */\n  async handleAgentCreate(params) {\n    const agentParams = {\n      agent_type: params.agent_type || 'worker',\n      capabilities: params.capabilities || ['compute', 'analyze'],\n      resources: params.resources || { cpu: 10, memory: 512 },\n    };\n\n    console.log('🤖 Creating dynamic agent with parameters:', agentParams);\n\n    // Update UI if in browser mode\n    if (this.container) {\n      this.updateAgentsList({\n        id: `agent-${Date.now()}`,\n        type: agentParams.agent_type,\n        capabilities: agentParams.capabilities,\n        status: 'initializing',\n      });\n    }\n  }\n\n  /**\n   * Handle capability matching\n   */\n  async handleCapabilityMatch(params) {\n    const matchParams = {\n      task_requirements: params.task_requirements || ['compute', 'memory'],\n      available_agents: Array.from(this.agents.values()),\n    };\n\n    console.log('🔀 Matching capabilities with parameters:', matchParams);\n\n    // Simulate matching logic\n    const matches = this.findMatchingAgents(matchParams.task_requirements);\n\n    if (this.container) {\n      this.displayCapabilityMatches(matches);\n    }\n  }\n\n  /**\n   * Handle resource allocation\n   */\n  async handleResourceAllocation(params) {\n    const allocParams = {\n      resources: params.resources || { cpu: 20, memory: 1024 },\n      agents: params.agents || [],\n    };\n\n    console.log('📦 Allocating resources with parameters:', allocParams);\n\n    if (this.container) {\n      this.updateResourceMeters(allocParams);\n    }\n  }\n\n  /**\n   * Handle lifecycle management\n   */\n  async handleLifecycleManagement(params) {\n    const lifecycleParams = {\n      agentId: params.agentId || 'agent-1',\n      action: params.action || 'status',\n    };\n\n    console.log('🔄 Managing agent lifecycle:', lifecycleParams);\n\n    if (this.container) {\n      this.updateLifecycleStatus(lifecycleParams.agentId, lifecycleParams.action);\n    }\n  }\n\n  /**\n   * Handle inter-agent communication\n   */\n  async handleCommunication(params) {\n    const commParams = {\n      from: params.from || 'coordinator',\n      to: params.to || 'worker-1',\n      message: params.message || { type: 'command', content: 'execute_task' },\n    };\n\n    console.log('📡 Handling communication:', commParams);\n\n    this.communications.push({\n      timestamp: Date.now(),\n      ...commParams,\n    });\n\n    if (this.container) {\n      this.updateCommunicationLog(commParams);\n    }\n  }\n\n  /**\n   * Handle consensus operations\n   */\n  async handleConsensus(params) {\n    const consensusParams = {\n      agents: params.agents || Array.from(this.agents.keys()),\n      proposal: params.proposal || { type: 'resource_allocation', details: {} },\n    };\n\n    console.log('🤝 Processing consensus:', consensusParams);\n\n    if (this.container) {\n      this.createConsensusProposal(consensusParams);\n    }\n  }\n\n  /**\n   * Handle fault tolerance\n   */\n  async handleFaultTolerance(params) {\n    const faultParams = {\n      agentId: params.agentId || 'agent-1',\n      strategy: params.strategy || 'restart',\n    };\n\n    console.log('🛡️ Handling fault tolerance:', faultParams);\n\n    this.faultEvents.push({\n      timestamp: Date.now(),\n      ...faultParams,\n    });\n\n    if (this.container) {\n      this.updateFaultEvents(faultParams);\n    }\n  }\n\n  /**\n   * Handle optimization\n   */\n  async handleOptimization(params) {\n    const optimizationParams = {\n      target: params.target || 'performance',\n      metrics: params.metrics || ['response_time', 'throughput'],\n    };\n\n    console.log('⚡ Running optimization:', optimizationParams);\n\n    this.optimizations.push({\n      timestamp: Date.now(),\n      ...optimizationParams,\n    });\n\n    if (this.container) {\n      this.updateOptimizationResults(optimizationParams);\n    }\n  }\n\n  /**\n   * Update agents list in UI\n   */\n  updateAgentsList(agent) {\n    const agentsListEl = document.getElementById('agents-list');\n    if (!agentsListEl) return;\n\n    const agentCard = document.createElement('div');\n    agentCard.className = 'agent-card';\n    agentCard.innerHTML = `\n      <div class=\"agent-header\">\n        <span class=\"agent-icon\">🤖</span>\n        <span class=\"agent-name\">${agent.id}</span>\n        <span class=\"agent-status ${agent.status}\">${agent.status}</span>\n      </div>\n      <div class=\"agent-details\">\n        <div>Type: ${agent.type}</div>\n        <div>Capabilities: ${agent.capabilities.join(', ')}</div>\n      </div>\n      <div class=\"agent-actions\">\n        <button onclick=\"this.manageAgent('${agent.id}')\" class=\"mini-btn\">Manage</button>\n        <button onclick=\"this.viewAgentDetails('${agent.id}')\" class=\"mini-btn\">Details</button>\n      </div>\n    `;\n\n    agentsListEl.appendChild(agentCard);\n\n    // Update agent count\n    const agentsStat = document.getElementById('agents-stat');\n    if (agentsStat) {\n      const valueEl = agentsStat.querySelector('.stat-value');\n      if (valueEl) valueEl.textContent = this.agents.size;\n    }\n  }\n\n  /**\n   * Display capability matches\n   */\n  displayCapabilityMatches(matches) {\n    const matchesEl = document.getElementById('capability-matches');\n    if (!matchesEl) return;\n\n    if (matches.length === 0) {\n      matchesEl.innerHTML = '<div class=\"no-matches\">No matching agents found</div>';\n      return;\n    }\n\n    matchesEl.innerHTML = matches\n      .map(\n        (match) => `\n      <div class=\"match-card\">\n        <div class=\"match-agent\">${match.agent.id}</div>\n        <div class=\"match-score\">Match Score: ${match.score}%</div>\n        <div class=\"match-capabilities\">\n          ${match.matchedCapabilities\n            .map((cap) => `<span class=\"capability-tag\">${cap}</span>`)\n            .join('')}\n        </div>\n        <button onclick=\"this.assignToAgent('${match.agent.id}')\" class=\"mini-btn primary\">\n          Assign Task\n        </button>\n      </div>\n    `,\n      )\n      .join('');\n  }\n\n  /**\n   * Find matching agents based on requirements\n   */\n  findMatchingAgents(requirements) {\n    const matches = [];\n\n    for (const [agentId, agent] of this.agents) {\n      const matchedCaps = requirements.filter((req) => agent.capabilities.includes(req));\n\n      if (matchedCaps.length > 0) {\n        matches.push({\n          agent: agent,\n          score: Math.round((matchedCaps.length / requirements.length) * 100),\n          matchedCapabilities: matchedCaps,\n        });\n      }\n    }\n\n    return matches.sort((a, b) => b.score - a.score);\n  }\n\n  /**\n   * Update resource meters\n   */\n  updateResourceMeters(allocParams) {\n    // Update CPU meter\n    const cpuBar = document.getElementById('cpu-usage-bar');\n    if (cpuBar) {\n      const usage = Math.min(100, 45 + (allocParams.resources.cpu || 0));\n      cpuBar.style.width = `${usage}%`;\n      cpuBar.nextElementSibling.textContent = `${usage}%`;\n    }\n\n    // Update memory meter\n    const memBar = document.getElementById('memory-usage-bar');\n    if (memBar) {\n      const usage = Math.min(100, 60 + Math.round((allocParams.resources.memory || 0) / 100));\n      memBar.style.width = `${usage}%`;\n      memBar.nextElementSibling.textContent = `${usage}%`;\n    }\n  }\n\n  /**\n   * Update lifecycle status\n   */\n  updateLifecycleStatus(agentId, action) {\n    const eventsEl = document.getElementById('lifecycle-events-list');\n    if (!eventsEl) return;\n\n    const event = document.createElement('div');\n    event.className = 'lifecycle-event';\n    event.innerHTML = `\n      <span class=\"event-time\">${new Date().toLocaleTimeString()}</span>\n      <span class=\"event-agent\">${agentId}</span>\n      <span class=\"event-action ${action}\">${action}</span>\n    `;\n\n    eventsEl.insertBefore(event, eventsEl.firstChild);\n  }\n\n  /**\n   * Update communication log\n   */\n  updateCommunicationLog(commParams) {\n    const logEl = document.getElementById('communication-log-list');\n    if (!logEl) return;\n\n    const message = document.createElement('div');\n    message.className = `comm-message ${commParams.message.type}`;\n    message.innerHTML = `\n      <div class=\"message-header\">\n        <span class=\"message-from\">${commParams.from}</span>\n        <span class=\"message-arrow\">→</span>\n        <span class=\"message-to\">${commParams.to}</span>\n        <span class=\"message-time\">${new Date().toLocaleTimeString()}</span>\n      </div>\n      <div class=\"message-content\">\n        <span class=\"message-type\">[${commParams.message.type}]</span>\n        ${commParams.message.content}\n      </div>\n    `;\n\n    logEl.insertBefore(message, logEl.firstChild);\n  }\n\n  /**\n   * Create consensus proposal UI\n   */\n  createConsensusProposal(consensusParams) {\n    const proposalsEl = document.getElementById('proposals-list');\n    if (!proposalsEl) return;\n\n    const proposal = document.createElement('div');\n    proposal.className = 'proposal-card active';\n    proposal.innerHTML = `\n      <div class=\"proposal-header\">\n        <span class=\"proposal-type\">${consensusParams.proposal.type}</span>\n        <span class=\"proposal-status\">Voting in Progress</span>\n      </div>\n      <div class=\"proposal-details\">\n        ${JSON.stringify(consensusParams.proposal.details)}\n      </div>\n      <div class=\"proposal-votes\">\n        <div class=\"vote-progress\">\n          <div class=\"vote-bar\" style=\"width: 0%\"></div>\n        </div>\n        <div class=\"vote-count\">0/${consensusParams.agents.length} votes</div>\n      </div>\n      <div class=\"proposal-actions\">\n        <button onclick=\"this.voteOnProposal('approve')\" class=\"mini-btn success\">Approve</button>\n        <button onclick=\"this.voteOnProposal('reject')\" class=\"mini-btn danger\">Reject</button>\n      </div>\n    `;\n\n    proposalsEl.insertBefore(proposal, proposalsEl.firstChild);\n  }\n\n  /**\n   * Update fault events\n   */\n  updateFaultEvents(faultParams) {\n    const eventsEl = document.getElementById('fault-events-list');\n    if (!eventsEl) return;\n\n    const event = document.createElement('div');\n    event.className = 'fault-event';\n    event.innerHTML = `\n      <div class=\"fault-header\">\n        <span class=\"fault-icon\">🚨</span>\n        <span class=\"fault-agent\">${faultParams.agentId}</span>\n        <span class=\"fault-time\">${new Date().toLocaleTimeString()}</span>\n      </div>\n      <div class=\"fault-details\">\n        Recovery Strategy: ${faultParams.strategy}\n      </div>\n    `;\n\n    eventsEl.insertBefore(event, eventsEl.firstChild);\n  }\n\n  /**\n   * Update optimization results\n   */\n  updateOptimizationResults(optimizationParams) {\n    const historyEl = document.getElementById('optimization-history-list');\n    if (!historyEl) return;\n\n    const result = document.createElement('div');\n    result.className = 'optimization-result';\n    result.innerHTML = `\n      <div class=\"opt-header\">\n        <span class=\"opt-target\">${optimizationParams.target}</span>\n        <span class=\"opt-time\">${new Date().toLocaleTimeString()}</span>\n      </div>\n      <div class=\"opt-metrics\">\n        Metrics: ${optimizationParams.metrics.join(', ')}\n      </div>\n      <div class=\"opt-improvement\">\n        <span class=\"improvement-value\">+12%</span> improvement\n      </div>\n    `;\n\n    historyEl.insertBefore(result, historyEl.firstChild);\n  }\n\n  /**\n   * Setup event handlers\n   */\n  setupEventHandlers() {\n    // Listen for tool results\n    this.eventBus.on('tool:executed', (data) => {\n      if (data.source === 'daa-view') {\n        this.handleToolResult(data);\n      }\n    });\n\n    // Listen for real-time updates\n    this.eventBus.on('ui:real-time:update', () => {\n      this.updateStats();\n    });\n\n    // Listen for theme changes\n    this.eventBus.on('ui:theme:changed', (theme) => {\n      this.updateTheme(theme);\n    });\n\n    // Listen for agent updates\n    this.eventBus.on('daa:agent:created', (agent) => {\n      this.agents.set(agent.id, agent);\n      if (this.container) {\n        this.updateAgentsList(agent);\n      }\n    });\n\n    // Listen for resource updates\n    this.eventBus.on('daa:resource:allocated', (allocation) => {\n      this.resources.set(allocation.id, allocation);\n      if (this.container) {\n        this.updateResourceMeters(allocation);\n      }\n    });\n  }\n\n  /**\n   * Handle tool execution results\n   */\n  handleToolResult(data) {\n    console.log(`✅ Tool ${data.tool} completed:`, data.result);\n\n    // Update UI based on result\n    if (this.container) {\n      this.updateUIWithResult(data.tool, data.result);\n    }\n  }\n\n  /**\n   * Update UI with tool results\n   */\n  updateUIWithResult(toolName, result) {\n    // Update activity log\n    const activityEl = document.getElementById('daa-activity-log');\n    if (activityEl) {\n      const activity = document.createElement('div');\n      activity.className = 'activity-item';\n      activity.innerHTML = `\n        <span class=\"activity-time\">${new Date().toLocaleTimeString()}</span>\n        <span class=\"activity-desc\">${toolName} completed successfully</span>\n      `;\n      activityEl.insertBefore(activity, activityEl.firstChild);\n    }\n  }\n\n  /**\n   * Update statistics\n   */\n  updateStats() {\n    // Update agent count\n    const agentsStat = document.getElementById('agents-stat');\n    if (agentsStat) {\n      const valueEl = agentsStat.querySelector('.stat-value');\n      if (valueEl) valueEl.textContent = this.agents.size;\n    }\n\n    // Update resource usage\n    const resourcesStat = document.getElementById('resources-stat');\n    if (resourcesStat) {\n      const valueEl = resourcesStat.querySelector('.stat-value');\n      if (valueEl) {\n        const totalUsage = Array.from(this.resources.values()).reduce(\n          (sum, res) => sum + (res.usage || 0),\n          0,\n        );\n        valueEl.textContent = `${Math.round(totalUsage)}%`;\n      }\n    }\n\n    // Update communication rate\n    const commStat = document.getElementById('communications-stat');\n    if (commStat) {\n      const valueEl = commStat.querySelector('.stat-value');\n      if (valueEl) {\n        const recentComms = this.communications.filter(\n          (c) => Date.now() - c.timestamp < 60000,\n        ).length;\n        valueEl.textContent = recentComms;\n      }\n    }\n  }\n\n  /**\n   * Update theme\n   */\n  updateTheme(theme) {\n    if (this.container) {\n      this.container.classList.remove('theme-dark', 'theme-light');\n      this.container.classList.add(`theme-${theme}`);\n    }\n  }\n\n  /**\n   * Draw agent network visualization\n   */\n  drawAgentNetwork() {\n    const canvas = document.getElementById('agent-canvas');\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw simple network visualization\n    const agents = Array.from(this.agents.values());\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const radius = 150;\n\n    agents.forEach((agent, index) => {\n      const angle = (index / agents.length) * 2 * Math.PI;\n      const x = centerX + radius * Math.cos(angle);\n      const y = centerY + radius * Math.sin(angle);\n\n      // Draw agent node\n      ctx.beginPath();\n      ctx.arc(x, y, 20, 0, 2 * Math.PI);\n      ctx.fillStyle = '#00d4ff';\n      ctx.fill();\n      ctx.strokeStyle = '#fff';\n      ctx.stroke();\n\n      // Draw agent label\n      ctx.fillStyle = '#fff';\n      ctx.font = '12px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(agent.type, x, y + 30);\n    });\n  }\n\n  /**\n   * Destroy view and cleanup\n   */\n  destroy() {\n    // Clear any intervals or timeouts\n    // Remove event listeners\n    // Clean up resources\n    console.log('🤖 DAA View destroyed');\n  }\n}\n\n// Add DAA-specific styles\nif (typeof document !== 'undefined') {\n  const daaStyles = document.createElement('style');\n  daaStyles.textContent = `\n    .daa-overview {\n      padding: 20px;\n    }\n    \n    .stats-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 16px;\n      margin-bottom: 24px;\n    }\n    \n    .stat-card {\n      display: flex;\n      align-items: center;\n      background: #2a2a2a;\n      padding: 16px;\n      border-radius: 8px;\n      border: 1px solid #444;\n    }\n    \n    .stat-icon {\n      font-size: 24px;\n      margin-right: 12px;\n    }\n    \n    .stat-value {\n      font-size: 24px;\n      font-weight: bold;\n      color: #00d4ff;\n    }\n    \n    .stat-label {\n      color: #888;\n      font-size: 14px;\n    }\n    \n    .daa-tools {\n      margin: 24px 0;\n    }\n    \n    .tool-buttons {\n      display: flex;\n      gap: 12px;\n      flex-wrap: wrap;\n    }\n    \n    .daa-btn {\n      padding: 10px 16px;\n      border: none;\n      border-radius: 6px;\n      cursor: pointer;\n      font-weight: 500;\n      transition: all 0.2s ease;\n    }\n    \n    .daa-btn.primary {\n      background: #00d4ff;\n      color: #000;\n    }\n    \n    .daa-btn.primary:hover {\n      background: #00b8e6;\n    }\n    \n    .daa-btn.secondary {\n      background: #444;\n      color: #fff;\n    }\n    \n    .daa-btn.secondary:hover {\n      background: #555;\n    }\n    \n    .daa-btn.success {\n      background: #4caf50;\n      color: #fff;\n    }\n    \n    .daa-btn.warning {\n      background: #ff9800;\n      color: #fff;\n    }\n    \n    .daa-btn.danger {\n      background: #f44336;\n      color: #fff;\n    }\n    \n    .daa-btn.info {\n      background: #2196f3;\n      color: #fff;\n    }\n    \n    .form-group {\n      margin-bottom: 16px;\n    }\n    \n    .form-group label {\n      display: block;\n      margin-bottom: 4px;\n      color: #fff;\n      font-weight: 500;\n    }\n    \n    .form-group input,\n    .form-group select,\n    .form-group textarea {\n      width: 100%;\n      padding: 8px 12px;\n      background: #1a1a1a;\n      border: 1px solid #444;\n      border-radius: 4px;\n      color: #fff;\n    }\n    \n    .form-group textarea {\n      height: 100px;\n      resize: vertical;\n    }\n    \n    .network-container {\n      background: #1a1a1a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 20px;\n      margin-top: 16px;\n    }\n    \n    .agents-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n      gap: 16px;\n      margin-top: 16px;\n    }\n    \n    .agent-card {\n      background: #2a2a2a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 16px;\n    }\n    \n    .agent-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 8px;\n    }\n    \n    .agent-status {\n      font-size: 12px;\n      padding: 2px 8px;\n      border-radius: 12px;\n      background: #444;\n    }\n    \n    .agent-status.active {\n      background: #4caf50;\n    }\n    \n    .agent-status.initializing {\n      background: #2196f3;\n    }\n    \n    .agent-actions {\n      display: flex;\n      gap: 8px;\n      margin-top: 8px;\n    }\n    \n    .mini-btn {\n      padding: 4px 12px;\n      font-size: 12px;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n      background: #444;\n      color: #fff;\n    }\n    \n    .mini-btn:hover {\n      background: #555;\n    }\n    \n    .mini-btn.primary {\n      background: #00d4ff;\n      color: #000;\n    }\n    \n    .resource-inputs {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      gap: 8px;\n    }\n    \n    .resource-meter {\n      margin-bottom: 16px;\n    }\n    \n    .meter-bar {\n      position: relative;\n      background: #1a1a1a;\n      border: 1px solid #444;\n      border-radius: 4px;\n      height: 24px;\n      overflow: hidden;\n      margin-top: 4px;\n    }\n    \n    .meter-fill {\n      height: 100%;\n      background: linear-gradient(90deg, #00d4ff, #0099cc);\n      transition: width 0.3s ease;\n    }\n    \n    .meter-text {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      color: #fff;\n      font-size: 12px;\n      font-weight: bold;\n    }\n    \n    .lifecycle-buttons {\n      display: flex;\n      gap: 8px;\n      flex-wrap: wrap;\n      margin-top: 16px;\n    }\n    \n    .lifecycle-viz {\n      background: #1a1a1a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 20px;\n      margin-top: 16px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    \n    .comm-message {\n      background: #2a2a2a;\n      border: 1px solid #444;\n      border-radius: 6px;\n      padding: 12px;\n      margin-bottom: 8px;\n    }\n    \n    .message-header {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      margin-bottom: 4px;\n      font-size: 14px;\n    }\n    \n    .message-from {\n      color: #00d4ff;\n    }\n    \n    .message-to {\n      color: #4caf50;\n    }\n    \n    .message-time {\n      margin-left: auto;\n      color: #888;\n      font-size: 12px;\n    }\n    \n    .message-type {\n      color: #ff9800;\n      font-weight: bold;\n    }\n    \n    .proposal-card {\n      background: #2a2a2a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 16px;\n      margin-bottom: 16px;\n    }\n    \n    .proposal-card.active {\n      border-color: #00d4ff;\n    }\n    \n    .vote-progress {\n      background: #1a1a1a;\n      border-radius: 4px;\n      height: 20px;\n      overflow: hidden;\n      margin: 8px 0;\n    }\n    \n    .vote-bar {\n      height: 100%;\n      background: #4caf50;\n      transition: width 0.3s ease;\n    }\n    \n    .health-indicators {\n      display: flex;\n      gap: 16px;\n      margin-top: 16px;\n    }\n    \n    .health-indicator {\n      flex: 1;\n      text-align: center;\n      padding: 16px;\n      border-radius: 8px;\n      background: #2a2a2a;\n      border: 1px solid #444;\n    }\n    \n    .health-indicator.healthy {\n      border-color: #4caf50;\n    }\n    \n    .health-indicator.warning {\n      border-color: #ff9800;\n    }\n    \n    .health-indicator.critical {\n      border-color: #f44336;\n    }\n    \n    .indicator-icon {\n      font-size: 24px;\n      display: block;\n      margin-bottom: 8px;\n    }\n    \n    .indicator-value {\n      font-size: 24px;\n      font-weight: bold;\n      display: block;\n    }\n    \n    .metrics-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 16px;\n      margin-top: 16px;\n    }\n    \n    .metric-card {\n      background: #2a2a2a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 16px;\n      text-align: center;\n    }\n    \n    .metric-label {\n      color: #888;\n      font-size: 14px;\n      margin-bottom: 8px;\n    }\n    \n    .metric-value {\n      font-size: 28px;\n      font-weight: bold;\n      color: #00d4ff;\n      margin-bottom: 4px;\n    }\n    \n    .metric-trend {\n      font-size: 14px;\n      color: #888;\n    }\n    \n    .activity-list,\n    .history-list,\n    .events-list,\n    .fault-log,\n    .recovery-log,\n    .optimization-log,\n    .comm-log,\n    .consensus-log {\n      max-height: 300px;\n      overflow-y: auto;\n      background: #1a1a1a;\n      border: 1px solid #444;\n      border-radius: 8px;\n      padding: 12px;\n    }\n    \n    .activity-item,\n    .lifecycle-event,\n    .fault-event,\n    .optimization-result {\n      display: flex;\n      align-items: center;\n      padding: 8px;\n      border-bottom: 1px solid #333;\n    }\n    \n    .activity-item:last-child,\n    .lifecycle-event:last-child,\n    .fault-event:last-child,\n    .optimization-result:last-child {\n      border-bottom: none;\n    }\n    \n    .filter-btn {\n      padding: 6px 12px;\n      border: 1px solid #444;\n      background: transparent;\n      color: #888;\n      border-radius: 4px;\n      cursor: pointer;\n      margin-right: 8px;\n    }\n    \n    .filter-btn.active {\n      background: #444;\n      color: #fff;\n    }\n    \n    .filter-btn:hover {\n      background: #333;\n      color: #fff;\n    }\n  `;\n  document.head.appendChild(daaStyles);\n}\n"],"names":["DAAView","container","eventBus","viewConfig","componentLibrary","agents","Map","resources","communications","consensusHistory","faultEvents","optimizations","currentTab","isInitialized","initialize","emit","library","setupEventHandlers","render","params","innerHTML","createDAAInterface","renderTerminalMode","tabs","label","content","createOverviewTab","createAgentManagementTab","createCapabilityMatchingTab","createResourceAllocationTab","createLifecycleTab","createCommunicationTab","createConsensusTab","createFaultToleranceTab","createOptimizationTab","tabContainer","getComponent","appendChild","element","createFallbackInterface","console","log","repeat","tool","quickAction","toolName","source","handleAgentCreate","handleCapabilityMatch","handleResourceAllocation","handleLifecycleManagement","handleCommunication","handleConsensus","handleFaultTolerance","handleOptimization","error","agentParams","agent_type","capabilities","cpu","memory","updateAgentsList","id","Date","now","type","status","matchParams","task_requirements","available_agents","Array","from","values","matches","findMatchingAgents","displayCapabilityMatches","allocParams","updateResourceMeters","lifecycleParams","agentId","action","updateLifecycleStatus","commParams","to","message","push","timestamp","updateCommunicationLog","consensusParams","keys","proposal","details","createConsensusProposal","faultParams","strategy","updateFaultEvents","optimizationParams","target","metrics","updateOptimizationResults","agent","agentsListEl","document","getElementById","agentCard","createElement","className","join","agentsStat","valueEl","querySelector","textContent","size","matchesEl","length","map","match","score","matchedCapabilities","cap","requirements","matchedCaps","filter","req","includes","Math","round","sort","a","b","cpuBar","usage","min","style","width","nextElementSibling","memBar","eventsEl","event","toLocaleTimeString","insertBefore","firstChild","logEl","proposalsEl","JSON","stringify","historyEl","result","on","data","handleToolResult","updateStats","theme","updateTheme","set","allocation","updateUIWithResult","activityEl","activity","resourcesStat","totalUsage","reduce","sum","res","commStat","recentComms","c","classList","remove","add","drawAgentNetwork","canvas","ctx","getContext","clearRect","height","centerX","centerY","radius","forEach","index","angle","PI","x","cos","y","sin","beginPath","arc","fillStyle","fill","strokeStyle","stroke","font","textAlign","fillText","destroy","daaStyles","head"],"mappings":"AAMA,eAAe,MAAMA;IACnB,YAAYC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,CAAE;QAC3C,IAAI,CAACF,SAAS,GAAGA;QACjB,IAAI,CAACC,QAAQ,GAAGA;QAChB,IAAI,CAACC,UAAU,GAAGA;QAClB,IAAI,CAACC,gBAAgB,GAAG;QAGxB,IAAI,CAACC,MAAM,GAAG,IAAIC;QAClB,IAAI,CAACC,SAAS,GAAG,IAAID;QACrB,IAAI,CAACE,cAAc,GAAG,EAAE;QACxB,IAAI,CAACC,gBAAgB,GAAG,EAAE;QAC1B,IAAI,CAACC,WAAW,GAAG,EAAE;QACrB,IAAI,CAACC,aAAa,GAAG,EAAE;QAEvB,IAAI,CAACC,UAAU,GAAG;QAClB,IAAI,CAACC,aAAa,GAAG;IACvB;IAKA,MAAMC,aAAa;QACjB,IAAI,IAAI,CAACD,aAAa,EAAE;QAGxB,IAAI,CAACX,QAAQ,CAACa,IAAI,CAAC,yBAAyB,CAACC;YAC3C,IAAI,CAACZ,gBAAgB,GAAGY;QAC1B;QAGA,IAAI,CAACC,kBAAkB;QAEvB,IAAI,CAACJ,aAAa,GAAG;IACvB;IAKA,MAAMK,OAAOC,SAAS,CAAC,CAAC,EAAE;QACxB,IAAI,CAAC,IAAI,CAACN,aAAa,EAAE;YACvB,MAAM,IAAI,CAACC,UAAU;QACvB;QAGA,IAAI,IAAI,CAACb,SAAS,EAAE;YAClB,IAAI,CAACA,SAAS,CAACmB,SAAS,GAAG;YAC3B,IAAI,CAACC,kBAAkB;QACzB,OAAO;YAEL,IAAI,CAACC,kBAAkB,CAACH;QAC1B;IACF;IAKAE,qBAAqB;QAEnB,MAAME,OAAO;YACX;gBAAEC,OAAO;gBAAeC,SAAS,IAAI,CAACC,iBAAiB;YAAG;YAC1D;gBAAEF,OAAO;gBAAuBC,SAAS,IAAI,CAACE,wBAAwB;YAAG;YACzE;gBAAEH,OAAO;gBAA0BC,SAAS,IAAI,CAACG,2BAA2B;YAAG;YAC/E;gBAAEJ,OAAO;gBAA0BC,SAAS,IAAI,CAACI,2BAA2B;YAAG;YAC/E;gBAAEL,OAAO;gBAA2BC,SAAS,IAAI,CAACK,kBAAkB;YAAG;YACvE;gBAAEN,OAAO;gBAAoBC,SAAS,IAAI,CAACM,sBAAsB;YAAG;YACpE;gBAAEP,OAAO;gBAAgBC,SAAS,IAAI,CAACO,kBAAkB;YAAG;YAC5D;gBAAER,OAAO;gBAAuBC,SAAS,IAAI,CAACQ,uBAAuB;YAAG;YACxE;gBAAET,OAAO;gBAAkBC,SAAS,IAAI,CAACS,qBAAqB;YAAG;SAClE;QAED,IAAI,IAAI,CAAC9B,gBAAgB,EAAE;YACzB,MAAM+B,eAAe,IAAI,CAAC/B,gBAAgB,CAACgC,YAAY,CAAC,gBAAgBb;YACxE,IAAI,CAACtB,SAAS,CAACoC,WAAW,CAACF,aAAaG,OAAO;QACjD,OAAO;YAEL,IAAI,CAACC,uBAAuB;QAC9B;IACF;IAKAb,oBAAoB;QAClB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoER,CAAC;IACH;IAKAC,2BAA2B;QACzB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgDR,CAAC;IACH;IAKAC,8BAA8B;QAC5B,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4CR,CAAC;IACH;IAKAC,8BAA8B;QAC5B,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuER,CAAC;IACH;IAKAC,qBAAqB;QACnB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqDR,CAAC;IACH;IAKAC,yBAAyB;QACvB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyDR,CAAC;IACH;IAKAC,qBAAqB;QACnB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6DR,CAAC;IACH;IAKAC,0BAA0B;QACxB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyER,CAAC;IACH;IAKAC,wBAAwB;QACtB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwFR,CAAC;IACH;IAKAK,0BAA0B;QACxB,IAAI,CAACtC,SAAS,CAACmB,SAAS,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoC5B,CAAC;IACH;IAKAE,mBAAmBH,MAAM,EAAE;QACzBqB,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC,IAAIC,MAAM,CAAC;QACvBF,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC,IAAIC,MAAM,CAAC;QAEvB,IAAIvB,OAAOwB,IAAI,EAAE;YACfH,QAAQC,GAAG,CAAC,CAAC,gBAAgB,EAAEtB,OAAOwB,IAAI,EAAE;YAC5C,IAAI,CAACC,WAAW,CAACzB,OAAOwB,IAAI,EAAExB;QAChC;IACF;IAKA,MAAMyB,YAAYC,QAAQ,EAAE1B,SAAS,CAAC,CAAC,EAAE;QACvC,IAAI;YACFqB,QAAQC,GAAG,CAAC,CAAC,aAAa,EAAEI,SAAS,GAAG,CAAC;YAGzC,IAAI,CAAC3C,QAAQ,CAACa,IAAI,CAAC,gBAAgB;gBACjC4B,MAAME;gBACN1B,QAAQA;gBACR2B,QAAQ;YACV;YAGA,OAAQD;gBACN,KAAK;oBACH,MAAM,IAAI,CAACE,iBAAiB,CAAC5B;oBAC7B;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC6B,qBAAqB,CAAC7B;oBACjC;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC8B,wBAAwB,CAAC9B;oBACpC;gBACF,KAAK;oBACH,MAAM,IAAI,CAAC+B,yBAAyB,CAAC/B;oBACrC;gBACF,KAAK;oBACH,MAAM,IAAI,CAACgC,mBAAmB,CAAChC;oBAC/B;gBACF,KAAK;oBACH,MAAM,IAAI,CAACiC,eAAe,CAACjC;oBAC3B;gBACF,KAAK;oBACH,MAAM,IAAI,CAACkC,oBAAoB,CAAClC;oBAChC;gBACF,KAAK;oBACH,MAAM,IAAI,CAACmC,kBAAkB,CAACnC;oBAC9B;gBACF;oBACEqB,QAAQC,GAAG,CAAC,CAAC,KAAK,EAAEI,SAAS,SAAS,CAAC;YAC3C;QACF,EAAE,OAAOU,OAAO;YACdf,QAAQe,KAAK,CAAC,CAAC,kBAAkB,EAAEV,SAAS,CAAC,CAAC,EAAEU;QAClD;IACF;IAKA,MAAMR,kBAAkB5B,MAAM,EAAE;QAC9B,MAAMqC,cAAc;YAClBC,YAAYtC,OAAOsC,UAAU,IAAI;YACjCC,cAAcvC,OAAOuC,YAAY,IAAI;gBAAC;gBAAW;aAAU;YAC3DnD,WAAWY,OAAOZ,SAAS,IAAI;gBAAEoD,KAAK;gBAAIC,QAAQ;YAAI;QACxD;QAEApB,QAAQC,GAAG,CAAC,8CAA8Ce;QAG1D,IAAI,IAAI,CAACvD,SAAS,EAAE;YAClB,IAAI,CAAC4D,gBAAgB,CAAC;gBACpBC,IAAI,CAAC,MAAM,EAAEC,KAAKC,GAAG,IAAI;gBACzBC,MAAMT,YAAYC,UAAU;gBAC5BC,cAAcF,YAAYE,YAAY;gBACtCQ,QAAQ;YACV;QACF;IACF;IAKA,MAAMlB,sBAAsB7B,MAAM,EAAE;QAClC,MAAMgD,cAAc;YAClBC,mBAAmBjD,OAAOiD,iBAAiB,IAAI;gBAAC;gBAAW;aAAS;YACpEC,kBAAkBC,MAAMC,IAAI,CAAC,IAAI,CAAClE,MAAM,CAACmE,MAAM;QACjD;QAEAhC,QAAQC,GAAG,CAAC,6CAA6C0B;QAGzD,MAAMM,UAAU,IAAI,CAACC,kBAAkB,CAACP,YAAYC,iBAAiB;QAErE,IAAI,IAAI,CAACnE,SAAS,EAAE;YAClB,IAAI,CAAC0E,wBAAwB,CAACF;QAChC;IACF;IAKA,MAAMxB,yBAAyB9B,MAAM,EAAE;QACrC,MAAMyD,cAAc;YAClBrE,WAAWY,OAAOZ,SAAS,IAAI;gBAAEoD,KAAK;gBAAIC,QAAQ;YAAK;YACvDvD,QAAQc,OAAOd,MAAM,IAAI,EAAE;QAC7B;QAEAmC,QAAQC,GAAG,CAAC,4CAA4CmC;QAExD,IAAI,IAAI,CAAC3E,SAAS,EAAE;YAClB,IAAI,CAAC4E,oBAAoB,CAACD;QAC5B;IACF;IAKA,MAAM1B,0BAA0B/B,MAAM,EAAE;QACtC,MAAM2D,kBAAkB;YACtBC,SAAS5D,OAAO4D,OAAO,IAAI;YAC3BC,QAAQ7D,OAAO6D,MAAM,IAAI;QAC3B;QAEAxC,QAAQC,GAAG,CAAC,gCAAgCqC;QAE5C,IAAI,IAAI,CAAC7E,SAAS,EAAE;YAClB,IAAI,CAACgF,qBAAqB,CAACH,gBAAgBC,OAAO,EAAED,gBAAgBE,MAAM;QAC5E;IACF;IAKA,MAAM7B,oBAAoBhC,MAAM,EAAE;QAChC,MAAM+D,aAAa;YACjBX,MAAMpD,OAAOoD,IAAI,IAAI;YACrBY,IAAIhE,OAAOgE,EAAE,IAAI;YACjBC,SAASjE,OAAOiE,OAAO,IAAI;gBAAEnB,MAAM;gBAAWxC,SAAS;YAAe;QACxE;QAEAe,QAAQC,GAAG,CAAC,8BAA8ByC;QAE1C,IAAI,CAAC1E,cAAc,CAAC6E,IAAI,CAAC;YACvBC,WAAWvB,KAAKC,GAAG;YACnB,GAAGkB,UAAU;QACf;QAEA,IAAI,IAAI,CAACjF,SAAS,EAAE;YAClB,IAAI,CAACsF,sBAAsB,CAACL;QAC9B;IACF;IAKA,MAAM9B,gBAAgBjC,MAAM,EAAE;QAC5B,MAAMqE,kBAAkB;YACtBnF,QAAQc,OAAOd,MAAM,IAAIiE,MAAMC,IAAI,CAAC,IAAI,CAAClE,MAAM,CAACoF,IAAI;YACpDC,UAAUvE,OAAOuE,QAAQ,IAAI;gBAAEzB,MAAM;gBAAuB0B,SAAS,CAAC;YAAE;QAC1E;QAEAnD,QAAQC,GAAG,CAAC,4BAA4B+C;QAExC,IAAI,IAAI,CAACvF,SAAS,EAAE;YAClB,IAAI,CAAC2F,uBAAuB,CAACJ;QAC/B;IACF;IAKA,MAAMnC,qBAAqBlC,MAAM,EAAE;QACjC,MAAM0E,cAAc;YAClBd,SAAS5D,OAAO4D,OAAO,IAAI;YAC3Be,UAAU3E,OAAO2E,QAAQ,IAAI;QAC/B;QAEAtD,QAAQC,GAAG,CAAC,iCAAiCoD;QAE7C,IAAI,CAACnF,WAAW,CAAC2E,IAAI,CAAC;YACpBC,WAAWvB,KAAKC,GAAG;YACnB,GAAG6B,WAAW;QAChB;QAEA,IAAI,IAAI,CAAC5F,SAAS,EAAE;YAClB,IAAI,CAAC8F,iBAAiB,CAACF;QACzB;IACF;IAKA,MAAMvC,mBAAmBnC,MAAM,EAAE;QAC/B,MAAM6E,qBAAqB;YACzBC,QAAQ9E,OAAO8E,MAAM,IAAI;YACzBC,SAAS/E,OAAO+E,OAAO,IAAI;gBAAC;gBAAiB;aAAa;QAC5D;QAEA1D,QAAQC,GAAG,CAAC,2BAA2BuD;QAEvC,IAAI,CAACrF,aAAa,CAAC0E,IAAI,CAAC;YACtBC,WAAWvB,KAAKC,GAAG;YACnB,GAAGgC,kBAAkB;QACvB;QAEA,IAAI,IAAI,CAAC/F,SAAS,EAAE;YAClB,IAAI,CAACkG,yBAAyB,CAACH;QACjC;IACF;IAKAnC,iBAAiBuC,KAAK,EAAE;QACtB,MAAMC,eAAeC,SAASC,cAAc,CAAC;QAC7C,IAAI,CAACF,cAAc;QAEnB,MAAMG,YAAYF,SAASG,aAAa,CAAC;QACzCD,UAAUE,SAAS,GAAG;QACtBF,UAAUpF,SAAS,GAAG,CAAC;;;iCAGM,EAAEgF,MAAMtC,EAAE,CAAC;kCACV,EAAEsC,MAAMlC,MAAM,CAAC,EAAE,EAAEkC,MAAMlC,MAAM,CAAC;;;mBAG/C,EAAEkC,MAAMnC,IAAI,CAAC;2BACL,EAAEmC,MAAM1C,YAAY,CAACiD,IAAI,CAAC,MAAM;;;2CAGhB,EAAEP,MAAMtC,EAAE,CAAC;gDACN,EAAEsC,MAAMtC,EAAE,CAAC;;IAEvD,CAAC;QAEDuC,aAAahE,WAAW,CAACmE;QAGzB,MAAMI,aAAaN,SAASC,cAAc,CAAC;QAC3C,IAAIK,YAAY;YACd,MAAMC,UAAUD,WAAWE,aAAa,CAAC;YACzC,IAAID,SAASA,QAAQE,WAAW,GAAG,IAAI,CAAC1G,MAAM,CAAC2G,IAAI;QACrD;IACF;IAKArC,yBAAyBF,OAAO,EAAE;QAChC,MAAMwC,YAAYX,SAASC,cAAc,CAAC;QAC1C,IAAI,CAACU,WAAW;QAEhB,IAAIxC,QAAQyC,MAAM,KAAK,GAAG;YACxBD,UAAU7F,SAAS,GAAG;YACtB;QACF;QAEA6F,UAAU7F,SAAS,GAAGqD,QACnB0C,GAAG,CACF,CAACC,QAAU,CAAC;;iCAEa,EAAEA,MAAMhB,KAAK,CAACtC,EAAE,CAAC;8CACJ,EAAEsD,MAAMC,KAAK,CAAC;;UAElD,EAAED,MAAME,mBAAmB,CACxBH,GAAG,CAAC,CAACI,MAAQ,CAAC,6BAA6B,EAAEA,IAAI,OAAO,CAAC,EACzDZ,IAAI,CAAC,IAAI;;6CAEuB,EAAES,MAAMhB,KAAK,CAACtC,EAAE,CAAC;;;;IAI1D,CAAC,EAEE6C,IAAI,CAAC;IACV;IAKAjC,mBAAmB8C,YAAY,EAAE;QAC/B,MAAM/C,UAAU,EAAE;QAElB,KAAK,MAAM,CAACM,SAASqB,MAAM,IAAI,IAAI,CAAC/F,MAAM,CAAE;YAC1C,MAAMoH,cAAcD,aAAaE,MAAM,CAAC,CAACC,MAAQvB,MAAM1C,YAAY,CAACkE,QAAQ,CAACD;YAE7E,IAAIF,YAAYP,MAAM,GAAG,GAAG;gBAC1BzC,QAAQY,IAAI,CAAC;oBACXe,OAAOA;oBACPiB,OAAOQ,KAAKC,KAAK,CAAC,AAACL,YAAYP,MAAM,GAAGM,aAAaN,MAAM,GAAI;oBAC/DI,qBAAqBG;gBACvB;YACF;QACF;QAEA,OAAOhD,QAAQsD,IAAI,CAAC,CAACC,GAAGC,IAAMA,EAAEZ,KAAK,GAAGW,EAAEX,KAAK;IACjD;IAKAxC,qBAAqBD,WAAW,EAAE;QAEhC,MAAMsD,SAAS5B,SAASC,cAAc,CAAC;QACvC,IAAI2B,QAAQ;YACV,MAAMC,QAAQN,KAAKO,GAAG,CAAC,KAAK,KAAMxD,CAAAA,YAAYrE,SAAS,CAACoD,GAAG,IAAI,CAAA;YAC/DuE,OAAOG,KAAK,CAACC,KAAK,GAAG,GAAGH,MAAM,CAAC,CAAC;YAChCD,OAAOK,kBAAkB,CAACxB,WAAW,GAAG,GAAGoB,MAAM,CAAC,CAAC;QACrD;QAGA,MAAMK,SAASlC,SAASC,cAAc,CAAC;QACvC,IAAIiC,QAAQ;YACV,MAAML,QAAQN,KAAKO,GAAG,CAAC,KAAK,KAAKP,KAAKC,KAAK,CAAC,AAAClD,CAAAA,YAAYrE,SAAS,CAACqD,MAAM,IAAI,CAAA,IAAK;YAClF4E,OAAOH,KAAK,CAACC,KAAK,GAAG,GAAGH,MAAM,CAAC,CAAC;YAChCK,OAAOD,kBAAkB,CAACxB,WAAW,GAAG,GAAGoB,MAAM,CAAC,CAAC;QACrD;IACF;IAKAlD,sBAAsBF,OAAO,EAAEC,MAAM,EAAE;QACrC,MAAMyD,WAAWnC,SAASC,cAAc,CAAC;QACzC,IAAI,CAACkC,UAAU;QAEf,MAAMC,QAAQpC,SAASG,aAAa,CAAC;QACrCiC,MAAMhC,SAAS,GAAG;QAClBgC,MAAMtH,SAAS,GAAG,CAAC;+BACQ,EAAE,IAAI2C,OAAO4E,kBAAkB,GAAG;gCACjC,EAAE5D,QAAQ;gCACV,EAAEC,OAAO,EAAE,EAAEA,OAAO;IAChD,CAAC;QAEDyD,SAASG,YAAY,CAACF,OAAOD,SAASI,UAAU;IAClD;IAKAtD,uBAAuBL,UAAU,EAAE;QACjC,MAAM4D,QAAQxC,SAASC,cAAc,CAAC;QACtC,IAAI,CAACuC,OAAO;QAEZ,MAAM1D,UAAUkB,SAASG,aAAa,CAAC;QACvCrB,QAAQsB,SAAS,GAAG,CAAC,aAAa,EAAExB,WAAWE,OAAO,CAACnB,IAAI,EAAE;QAC7DmB,QAAQhE,SAAS,GAAG,CAAC;;mCAEU,EAAE8D,WAAWX,IAAI,CAAC;;iCAEpB,EAAEW,WAAWC,EAAE,CAAC;mCACd,EAAE,IAAIpB,OAAO4E,kBAAkB,GAAG;;;oCAGjC,EAAEzD,WAAWE,OAAO,CAACnB,IAAI,CAAC;QACtD,EAAEiB,WAAWE,OAAO,CAAC3D,OAAO,CAAC;;IAEjC,CAAC;QAEDqH,MAAMF,YAAY,CAACxD,SAAS0D,MAAMD,UAAU;IAC9C;IAKAjD,wBAAwBJ,eAAe,EAAE;QACvC,MAAMuD,cAAczC,SAASC,cAAc,CAAC;QAC5C,IAAI,CAACwC,aAAa;QAElB,MAAMrD,WAAWY,SAASG,aAAa,CAAC;QACxCf,SAASgB,SAAS,GAAG;QACrBhB,SAAStE,SAAS,GAAG,CAAC;;oCAEU,EAAEoE,gBAAgBE,QAAQ,CAACzB,IAAI,CAAC;;;;QAI5D,EAAE+E,KAAKC,SAAS,CAACzD,gBAAgBE,QAAQ,CAACC,OAAO,EAAE;;;;;;kCAMzB,EAAEH,gBAAgBnF,MAAM,CAAC6G,MAAM,CAAC;;;;;;IAM9D,CAAC;QAED6B,YAAYH,YAAY,CAAClD,UAAUqD,YAAYF,UAAU;IAC3D;IAKA9C,kBAAkBF,WAAW,EAAE;QAC7B,MAAM4C,WAAWnC,SAASC,cAAc,CAAC;QACzC,IAAI,CAACkC,UAAU;QAEf,MAAMC,QAAQpC,SAASG,aAAa,CAAC;QACrCiC,MAAMhC,SAAS,GAAG;QAClBgC,MAAMtH,SAAS,GAAG,CAAC;;;kCAGW,EAAEyE,YAAYd,OAAO,CAAC;iCACvB,EAAE,IAAIhB,OAAO4E,kBAAkB,GAAG;;;2BAGxC,EAAE9C,YAAYC,QAAQ,CAAC;;IAE9C,CAAC;QAED2C,SAASG,YAAY,CAACF,OAAOD,SAASI,UAAU;IAClD;IAKA1C,0BAA0BH,kBAAkB,EAAE;QAC5C,MAAMkD,YAAY5C,SAASC,cAAc,CAAC;QAC1C,IAAI,CAAC2C,WAAW;QAEhB,MAAMC,SAAS7C,SAASG,aAAa,CAAC;QACtC0C,OAAOzC,SAAS,GAAG;QACnByC,OAAO/H,SAAS,GAAG,CAAC;;iCAES,EAAE4E,mBAAmBC,MAAM,CAAC;+BAC9B,EAAE,IAAIlC,OAAO4E,kBAAkB,GAAG;;;iBAGhD,EAAE3C,mBAAmBE,OAAO,CAACS,IAAI,CAAC,MAAM;;;;;IAKrD,CAAC;QAEDuC,UAAUN,YAAY,CAACO,QAAQD,UAAUL,UAAU;IACrD;IAKA5H,qBAAqB;QAEnB,IAAI,CAACf,QAAQ,CAACkJ,EAAE,CAAC,iBAAiB,CAACC;YACjC,IAAIA,KAAKvG,MAAM,KAAK,YAAY;gBAC9B,IAAI,CAACwG,gBAAgB,CAACD;YACxB;QACF;QAGA,IAAI,CAACnJ,QAAQ,CAACkJ,EAAE,CAAC,uBAAuB;YACtC,IAAI,CAACG,WAAW;QAClB;QAGA,IAAI,CAACrJ,QAAQ,CAACkJ,EAAE,CAAC,oBAAoB,CAACI;YACpC,IAAI,CAACC,WAAW,CAACD;QACnB;QAGA,IAAI,CAACtJ,QAAQ,CAACkJ,EAAE,CAAC,qBAAqB,CAAChD;YACrC,IAAI,CAAC/F,MAAM,CAACqJ,GAAG,CAACtD,MAAMtC,EAAE,EAAEsC;YAC1B,IAAI,IAAI,CAACnG,SAAS,EAAE;gBAClB,IAAI,CAAC4D,gBAAgB,CAACuC;YACxB;QACF;QAGA,IAAI,CAAClG,QAAQ,CAACkJ,EAAE,CAAC,0BAA0B,CAACO;YAC1C,IAAI,CAACpJ,SAAS,CAACmJ,GAAG,CAACC,WAAW7F,EAAE,EAAE6F;YAClC,IAAI,IAAI,CAAC1J,SAAS,EAAE;gBAClB,IAAI,CAAC4E,oBAAoB,CAAC8E;YAC5B;QACF;IACF;IAKAL,iBAAiBD,IAAI,EAAE;QACrB7G,QAAQC,GAAG,CAAC,CAAC,OAAO,EAAE4G,KAAK1G,IAAI,CAAC,WAAW,CAAC,EAAE0G,KAAKF,MAAM;QAGzD,IAAI,IAAI,CAAClJ,SAAS,EAAE;YAClB,IAAI,CAAC2J,kBAAkB,CAACP,KAAK1G,IAAI,EAAE0G,KAAKF,MAAM;QAChD;IACF;IAKAS,mBAAmB/G,QAAQ,EAAEsG,MAAM,EAAE;QAEnC,MAAMU,aAAavD,SAASC,cAAc,CAAC;QAC3C,IAAIsD,YAAY;YACd,MAAMC,WAAWxD,SAASG,aAAa,CAAC;YACxCqD,SAASpD,SAAS,GAAG;YACrBoD,SAAS1I,SAAS,GAAG,CAAC;oCACQ,EAAE,IAAI2C,OAAO4E,kBAAkB,GAAG;oCAClC,EAAE9F,SAAS;MACzC,CAAC;YACDgH,WAAWjB,YAAY,CAACkB,UAAUD,WAAWhB,UAAU;QACzD;IACF;IAKAU,cAAc;QAEZ,MAAM3C,aAAaN,SAASC,cAAc,CAAC;QAC3C,IAAIK,YAAY;YACd,MAAMC,UAAUD,WAAWE,aAAa,CAAC;YACzC,IAAID,SAASA,QAAQE,WAAW,GAAG,IAAI,CAAC1G,MAAM,CAAC2G,IAAI;QACrD;QAGA,MAAM+C,gBAAgBzD,SAASC,cAAc,CAAC;QAC9C,IAAIwD,eAAe;YACjB,MAAMlD,UAAUkD,cAAcjD,aAAa,CAAC;YAC5C,IAAID,SAAS;gBACX,MAAMmD,aAAa1F,MAAMC,IAAI,CAAC,IAAI,CAAChE,SAAS,CAACiE,MAAM,IAAIyF,MAAM,CAC3D,CAACC,KAAKC,MAAQD,MAAOC,CAAAA,IAAIhC,KAAK,IAAI,CAAA,GAClC;gBAEFtB,QAAQE,WAAW,GAAG,GAAGc,KAAKC,KAAK,CAACkC,YAAY,CAAC,CAAC;YACpD;QACF;QAGA,MAAMI,WAAW9D,SAASC,cAAc,CAAC;QACzC,IAAI6D,UAAU;YACZ,MAAMvD,UAAUuD,SAAStD,aAAa,CAAC;YACvC,IAAID,SAAS;gBACX,MAAMwD,cAAc,IAAI,CAAC7J,cAAc,CAACkH,MAAM,CAC5C,CAAC4C,IAAMvG,KAAKC,GAAG,KAAKsG,EAAEhF,SAAS,GAAG,OAClC4B,MAAM;gBACRL,QAAQE,WAAW,GAAGsD;YACxB;QACF;IACF;IAKAZ,YAAYD,KAAK,EAAE;QACjB,IAAI,IAAI,CAACvJ,SAAS,EAAE;YAClB,IAAI,CAACA,SAAS,CAACsK,SAAS,CAACC,MAAM,CAAC,cAAc;YAC9C,IAAI,CAACvK,SAAS,CAACsK,SAAS,CAACE,GAAG,CAAC,CAAC,MAAM,EAAEjB,OAAO;QAC/C;IACF;IAKAkB,mBAAmB;QACjB,MAAMC,SAASrE,SAASC,cAAc,CAAC;QACvC,IAAI,CAACoE,QAAQ;QAEb,MAAMC,MAAMD,OAAOE,UAAU,CAAC;QAC9BD,IAAIE,SAAS,CAAC,GAAG,GAAGH,OAAOrC,KAAK,EAAEqC,OAAOI,MAAM;QAG/C,MAAM1K,SAASiE,MAAMC,IAAI,CAAC,IAAI,CAAClE,MAAM,CAACmE,MAAM;QAC5C,MAAMwG,UAAUL,OAAOrC,KAAK,GAAG;QAC/B,MAAM2C,UAAUN,OAAOI,MAAM,GAAG;QAChC,MAAMG,SAAS;QAEf7K,OAAO8K,OAAO,CAAC,CAAC/E,OAAOgF;YACrB,MAAMC,QAAQ,AAACD,QAAQ/K,OAAO6G,MAAM,GAAI,IAAIW,KAAKyD,EAAE;YACnD,MAAMC,IAAIP,UAAUE,SAASrD,KAAK2D,GAAG,CAACH;YACtC,MAAMI,IAAIR,UAAUC,SAASrD,KAAK6D,GAAG,CAACL;YAGtCT,IAAIe,SAAS;YACbf,IAAIgB,GAAG,CAACL,GAAGE,GAAG,IAAI,GAAG,IAAI5D,KAAKyD,EAAE;YAChCV,IAAIiB,SAAS,GAAG;YAChBjB,IAAIkB,IAAI;YACRlB,IAAImB,WAAW,GAAG;YAClBnB,IAAIoB,MAAM;YAGVpB,IAAIiB,SAAS,GAAG;YAChBjB,IAAIqB,IAAI,GAAG;YACXrB,IAAIsB,SAAS,GAAG;YAChBtB,IAAIuB,QAAQ,CAAC/F,MAAMnC,IAAI,EAAEsH,GAAGE,IAAI;QAClC;IACF;IAKAW,UAAU;QAIR5J,QAAQC,GAAG,CAAC;IACd;AACF;AAGA,IAAI,OAAO6D,aAAa,aAAa;IACnC,MAAM+F,YAAY/F,SAASG,aAAa,CAAC;IACzC4F,UAAUtF,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA6azB,CAAC;IACDT,SAASgG,IAAI,CAACjK,WAAW,CAACgK;AAC5B"}